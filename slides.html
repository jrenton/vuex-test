<!DOCTYPE html>
<html>
  <head>
    <title>Vuex</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>
    <textarea id="source">
    # What is Vuex?

    Vuex is a **state management pattern** + library for Vue.js applications. It serves as a **centralized store** for all the components in an application, with rules ensuring that the state can only be **mutated in a predictable fashion**.

    - Single source of truth
    - State is read-only
    - Only one way to mutate state

    ---

    # What is Vuex?

    ![Vuex diagram](vuex.png "Vuex diagram")

    ---

    # Why use Vuex?

    - Predictable state changes
    - Enforces a structure
    - Larger applications

    ---

    # Set up the store

    ```javascript
    import Vue from 'vue';
    import Vuex from 'vuex';

    Vue.use(Vuex);

    // This will be the state of our application.
    const state = {
      user: {
        firstName: 'Bob',
        lastName: 'Dole',
      },
    };

    // Mutations are the means by which we mutate the state.
    const mutations = {
      SET_USER(state, user) {
        state.user = user;
      },
    };

    // Initialize the vuex store.
    const store = new Vuex.Store({
      state,
      mutations,
    });
    ```

    ---

    # Inject store into the root component

    ```javascript
    new Vue({
      el: '#app',
      // Inject the store into the Vue component.
      store,
      data() {
        return {
          user: {
            firstName: '',
            lastName: '',
          },
        };
      },
      methods: {
        setUser() {
          this.$store.commit('SET_USER', this.user);
        },
      },
    });
    ```

    ---

    And our html file:
    ```html
    <html>
      <body>
        <div id="app"></div>
      </body>
    </html>
    ```

    So now we have the most basic setup to test Vue with Vuex.
    ---

    # Modules

    When your application grows, you will find that having one state tree will be cumbersome.

    ```javascript
    const moduleA = {
      state: { ... },
      mutations: { ... },
      actions: { ... },
      getters: { ... }
    }

    const moduleB = {
      state: { ... },
      mutations: { ... },
      actions: { ... }
    }

    const store = new Vuex.Store({
      modules: {
        a: moduleA,
        b: moduleB
      }
    })

    store.state.a // -> moduleA's state
    store.state.b // -> moduleB's state
    ```

    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
